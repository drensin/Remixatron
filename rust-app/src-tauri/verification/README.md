# Verification Tests (`src-tauri/verification/`)

This directory contains standalone verification binaries for testing individual pipeline stages without the full GUI.

## Files

*   **`verify_audio.rs`**: Audio playback verification.
    *   Tests Kira audio backend initialization
    *   Validates sample-accurate scheduling
    *   Useful for debugging audio glitches

*   **`verify_e2e.rs`**: End-to-end pipeline verification.
    *   Runs the complete analysis + playback flow
    *   Validates output against expected golden data
    *   Tests the full user journey

*   **`verify_playback_logic.rs`**: Playback engine logic verification.
    *   Tests jump decision algorithms
    *   Validates recency tracking and panic thresholds
    *   Checks sequence length distribution

*   **`verify_real_segmentation.rs`**: Real audio segmentation verification.
    *   Tests novelty-based segmentation on actual music
    *   Compares output to reference segments

*   **`verify_segmentation.rs`**: Segmentation unit tests.
    *   Tests clustering algorithms with synthetic data
    *   Validates boundary detection accuracy

*   **`verify_stage1.rs`**: Stage 1 (Decoding) verification.
    *   Tests audio loading and resampling
    *   Validates sample rate conversion accuracy

*   **`verify_stage2.rs`**: Stage 2 (Mel Spectrogram) verification.
    *   Tests mel spectrogram generation
    *   Compares output to Python reference (librosa)

*   **`verify_stage3.rs`**: Stage 3 (Beat Tracking) verification.
    *   Tests ONNX inference pipeline
    *   Validates beat detection accuracy

*   **`verify_stage4.rs`**: Stage 4 (Segmentation) verification.
    *   Tests structure analysis pipeline
    *   Validates segment boundary detection

## Usage

Run individual verification binaries with Cargo:

```bash
cargo run --bin verify_stage1
cargo run --bin verify_e2e
```

## Golden Data

These tests rely on golden reference data generated by `scripts/generate_gold_standard.py`, which uses the original Python/Librosa implementation to produce expected outputs.
